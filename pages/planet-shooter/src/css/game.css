* {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
   -webkit-tap-highlight-color: transparent;
}

body {
   background: #000000;
   color: white;
   font-family: "Orbitron", Arial, sans-serif;
   overflow: hidden;
   user-select: none;
   height: 100vh;
   width: 100vw;
   position: fixed;
   display: flex;
   flex-direction: column;
}

/* ============ STARFIELD ============ */
#starfield {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: 0;
   background: radial-gradient(ellipse at center, #1a1a3e 0%, #000000 70%);
}

.star {
   position: absolute;
   background: white;
   border-radius: 50%;
   animation: twinkle var(--duration) infinite ease-in-out;
}

@keyframes twinkle {
   0%,
   100% {
      opacity: 0.2;
      transform: scale(1);
   }
   50% {
      opacity: 1;
      transform: scale(1.2);
   }
}

/* ============ HEADER ============ */
header {
   background: rgba(10, 10, 30, 0.95);
   padding: 10px;
   border-bottom: 3px solid #4a7bff;
   box-shadow: 0 2px 20px rgba(74, 123, 255, 0.6);
   z-index: 10;
   position: relative;
   backdrop-filter: blur(10px);
}

h1 {
   font-size: clamp(1.2rem, 4.5vw, 1.6rem);
   color: #6bb6ff;
   text-align: center;
   margin-bottom: 10px;
   font-weight: 900;
   text-shadow: 0 0 20px rgba(107, 182, 255, 0.8);
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 10px;
}

h1 iconify-icon {
   font-size: 1.8rem;
}

.score-panel {
   display: flex;
   justify-content: center;
   gap: 8px;
   flex-wrap: wrap;
}

.score-item {
   background: rgba(74, 123, 255, 0.2);
   padding: 6px 12px;
   border-radius: 10px;
   border: 2px solid #4a7bff;
   min-width: 60px;
   text-align: center;
   backdrop-filter: blur(5px);
   transition: all 0.3s;
}

.score-label {
   font-size: 0.6rem;
   color: #ffd700;
   margin-bottom: 3px;
   font-weight: bold;
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 4px;
}

.score-label iconify-icon {
   font-size: 0.9rem;
}

.score-value {
   font-size: 1rem;
   font-weight: bold;
   color: #fff;
   text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* Timer Warning */
.timer-item.warning {
   border-color: #ff8c00;
   background: rgba(255, 140, 0, 0.2);
   animation: warning-pulse 0.5s infinite;
}

.timer-item.danger {
   border-color: #ff1493;
   background: rgba(255, 20, 147, 0.3);
   animation: danger-pulse 0.3s infinite;
}

@keyframes warning-pulse {
   0%,
   100% {
      transform: scale(1);
      box-shadow: 0 0 10px rgba(255, 140, 0, 0.5);
   }
   50% {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255, 140, 0, 0.8);
   }
}

@keyframes danger-pulse {
   0%,
   100% {
      transform: scale(1);
      box-shadow: 0 0 15px rgba(255, 20, 147, 0.8);
   }
   50% {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(255, 20, 147, 1);
   }
}

/* Combo Highlight */
.combo-item.active {
   border-color: #ff1493;
   background: rgba(255, 20, 147, 0.3);
   animation: combo-glow 0.5s infinite;
}

@keyframes combo-glow {
   0%,
   100% {
      box-shadow: 0 0 15px rgba(255, 20, 147, 0.8);
   }
   50% {
      box-shadow: 0 0 30px rgba(255, 20, 147, 1);
   }
}

/* ============ GAME CONTAINER ============ */
#gameContainer {
   flex: 1;
   display: flex;
   justify-content: center;
   align-items: center;
   position: relative;
   z-index: 2;
   padding: 10px;
   width: 100%;
   max-width: 100vw;
}

#gameCanvas {
   background: rgba(10, 10, 30, 0.5);
   border: 3px solid #4a7bff;
   box-shadow: 0 0 30px rgba(74, 123, 255, 0.5);
   border-radius: 15px;
   touch-action: none;
   width: 100%;
   height: 100%;
   max-width: 450px;
   cursor: crosshair;
}

/* ============ CONTROLS ============ */
.controls {
   position: absolute;
   top: 10px;
   right: 10px;
   display: flex;
   gap: 8px;
   z-index: 100;
}

button {
   background: linear-gradient(135deg, #4a7bff, #2d5dcc);
   border: none;
   padding: 0;
   font-size: 1rem;
   border-radius: 50%;
   cursor: pointer;
   color: white;
   box-shadow: 0 4px 15px rgba(74, 123, 255, 0.5);
   transition: all 0.3s ease;
   border: 2px solid rgba(255, 255, 255, 0.3);
   width: 40px;
   height: 40px;
   display: flex;
   align-items: center;
   justify-content: center;
}

button:hover {
   transform: scale(1.1) translateY(-2px);
   box-shadow: 0 6px 20px rgba(74, 123, 255, 0.8);
}

button:active {
   transform: scale(0.95);
}

button iconify-icon {
   font-size: 1.3rem;
}

/* ============ AIM GUIDE ============ */
.aim-guide {
   position: absolute;
   bottom: 80px;
   left: 50%;
   transform: translateX(-50%);
   color: #ffd700;
   font-size: 0.8rem;
   text-shadow: 0 0 15px #ffd700;
   pointer-events: none;
   animation: pulse-guide 2s infinite ease-in-out;
   font-weight: bold;
   display: flex;
   align-items: center;
   gap: 8px;
}

.aim-guide iconify-icon {
   font-size: 1.5rem;
}

@keyframes pulse-guide {
   0%,
   100% {
      opacity: 1;
      transform: translateX(-50%) scale(1);
   }
   50% {
      opacity: 0.6;
      transform: translateX(-50%) scale(1.1);
   }
}

/* ============ START SCREEN ============ */
.start-screen {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: rgba(0, 0, 10, 0.98);
   display: none;
   justify-content: center;
   align-items: center;
   z-index: 1000;
   backdrop-filter: blur(15px);
   overflow-y: auto;
   padding: 20px;
}

.start-box {
   background: linear-gradient(135deg, rgba(20, 30, 70, 0.95), rgba(10, 10, 30, 0.95));
   padding: 30px 25px;
   border-radius: 20px;
   box-shadow: 0 0 50px rgba(74, 123, 255, 0.6);
   border: 3px solid #00bfff;
   animation: slideInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   max-width: 700px;
   width: 90%;
   text-align: center;
   backdrop-filter: blur(10px);
   max-height: 90vh;
   overflow-y: auto;
}

@keyframes slideInUp {
   from {
      transform: translateY(100px) scale(0.8);
      opacity: 0;
   }
   to {
      transform: translateY(0) scale(1);
      opacity: 1;
   }
}

/* Rules Container */
.rules-container {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
   gap: 15px;
   margin: 25px 0;
}

.rule-card {
   background: rgba(0, 191, 255, 0.1);
   border: 2px solid rgba(0, 191, 255, 0.3);
   border-radius: 12px;
   padding: 20px;
   transition: all 0.3s;
   text-align: center;
}

.rule-card:hover {
   background: rgba(0, 191, 255, 0.2);
   border-color: #00bfff;
   transform: translateY(-5px);
}

.rule-icon {
   font-size: 3rem;
   margin-bottom: 10px;
}

.rule-card h3 {
   color: #ffd700;
   font-size: 1rem;
   margin-bottom: 10px;
   text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.rule-card p {
   color: #fff;
   font-size: 0.85rem;
   line-height: 1.6;
}

.rule-card strong {
   color: #00ff7f;
}

/* ============ FULLSCREEN OVERLAY ============ */
.fullscreen-overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: rgba(0, 0, 10, 0.98);
   display: none;
   justify-content: center;
   align-items: center;
   z-index: 1000;
   backdrop-filter: blur(15px);
   overflow-y: auto;
   padding: 20px;
}

.screen-box {
   background: linear-gradient(135deg, rgba(20, 30, 70, 0.95), rgba(10, 10, 30, 0.95));
   padding: 30px 25px;
   border-radius: 20px;
   box-shadow: 0 0 50px rgba(74, 123, 255, 0.6);
   border: 3px solid #4a7bff;
   animation: slideInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   max-width: 650px;
   width: 90%;
   text-align: center;
   backdrop-filter: blur(10px);
   max-height: 90vh;
   overflow-y: auto;
}

/* ============ LEVEL TRANSITION ============ */
.transition-box {
   border-color: #ff8c00;
}

.level-complete-animation {
   margin-bottom: 20px;
}

.celebration-icon {
   font-size: 5rem;
   animation: celebrate 1s ease-in-out infinite;
}

@keyframes celebrate {
   0%,
   100% {
      transform: scale(1) rotate(0deg);
   }
   25% {
      transform: scale(1.2) rotate(-10deg);
   }
   75% {
      transform: scale(1.2) rotate(10deg);
   }
}

.rainbow-text {
   animation: rainbow 3s infinite;
   font-size: 2rem;
}

@keyframes rainbow {
   0% {
      color: #ffd700;
      text-shadow: 0 0 20px #ffd700;
   }
   33% {
      color: #00bfff;
      text-shadow: 0 0 20px #00bfff;
   }
   66% {
      color: #ff1493;
      text-shadow: 0 0 20px #ff1493;
   }
   100% {
      color: #ffd700;
      text-shadow: 0 0 20px #ffd700;
   }
}

.score-summary,
.total-summary {
   font-size: 1.1rem;
   margin: 10px 0;
   color: #ffd700;
}

.next-level-info {
   background: rgba(0, 191, 255, 0.1);
   border: 2px solid rgba(0, 191, 255, 0.3);
   border-radius: 12px;
   padding: 20px;
   margin: 20px 0;
}

.next-level-info h2 {
   color: #00bfff;
   margin-bottom: 15px;
}

.next-level-info p {
   margin: 8px 0;
   font-size: 0.95rem;
}

/* ============ VICTORY SCREEN ============ */
.victory-box {
   border-color: #ffd700;
   background: linear-gradient(135deg, rgba(30, 70, 30, 0.95), rgba(10, 40, 10, 0.95));
}

.victory-animation {
   position: relative;
   margin-bottom: 20px;
}

.trophy-icon {
   font-size: 6rem;
}

.rotating {
   animation: rotate-trophy 3s linear infinite;
}

@keyframes rotate-trophy {
   from {
      transform: rotate(0deg);
   }
   to {
      transform: rotate(360deg);
   }
}

.shimmer {
   animation: shimmer 2s infinite;
}

@keyframes shimmer {
   0%,
   100% {
      opacity: 1;
   }
   50% {
      opacity: 0.7;
   }
}

.victory-subtitle {
   font-size: 1.1rem;
   color: #00ff7f;
   margin-bottom: 25px;
}

.victory-stats {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
   gap: 15px;
   margin: 25px 0;
}

.stat-item {
   background: rgba(255, 215, 0, 0.1);
   border: 2px solid rgba(255, 215, 0, 0.3);
   border-radius: 12px;
   padding: 15px;
}

.stat-item iconify-icon {
   font-size: 2rem;
   margin-bottom: 8px;
}

.stat-value {
   font-size: 1.8rem;
   font-weight: bold;
   color: #ffd700;
   margin-bottom: 5px;
}

.stat-label {
   font-size: 0.75rem;
   color: #ccc;
}

.reward-section {
   margin: 25px 0;
   padding: 20px;
   background: rgba(255, 215, 0, 0.15);
   border: 3px solid #ffd700;
   border-radius: 15px;
}

.reward-section h2 {
   color: #ffd700;
   margin-bottom: 15px;
}

.reward-badge {
   display: inline-block;
   background: linear-gradient(135deg, #ffd700, #ff8c00);
   color: #000;
   padding: 15px 30px;
   border-radius: 50px;
   font-size: 1.1rem;
   font-weight: bold;
   box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
   animation: pulse-badge 1.5s infinite;
}

@keyframes pulse-badge {
   0%,
   100% {
      transform: scale(1);
   }
   50% {
      transform: scale(1.05);
   }
}

/* ============ GAME OVER SCREEN ============ */
.game-over-box {
   border-color: #ff6b6b;
   background: linear-gradient(135deg, rgba(70, 20, 20, 0.95), rgba(40, 10, 10, 0.95));
}

.game-over-icon {
   font-size: 5rem;
   margin-bottom: 15px;
}

.game-over-reason {
   font-size: 1.1rem;
   color: #ff6b6b;
   margin: 15px 0;
}

.level-info {
   font-size: 0.9rem;
   color: #ccc;
   margin-bottom: 20px;
}

.stats-grid {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
   gap: 15px;
   margin: 25px 0;
}

.stat-box {
   background: rgba(255, 107, 107, 0.1);
   border: 2px solid rgba(255, 107, 107, 0.3);
   border-radius: 12px;
   padding: 15px;
}

.stat-box iconify-icon {
   font-size: 2rem;
   margin-bottom: 8px;
}

.stat-number {
   font-size: 1.5rem;
   font-weight: bold;
   color: #ff6b6b;
   margin-bottom: 5px;
}

.stat-name {
   font-size: 0.75rem;
   color: #ccc;
}

/* ============ BUTTONS ============ */
.big-button {
   padding: 15px 40px !important;
   font-size: 1.1rem !important;
   margin: 15px 5px !important;
   border-radius: 50px !important;
   width: auto !important;
   height: auto !important;
   font-weight: bold;
   text-transform: uppercase;
   letter-spacing: 1.5px;
   transition: all 0.3s ease;
   display: inline-flex !important;
   align-items: center;
   gap: 10px;
}

.big-button:hover {
   transform: scale(1.1) translateY(-3px) !important;
   box-shadow: 0 8px 25px rgba(74, 123, 255, 0.9) !important;
}

.pulse-animation {
   animation: pulse-btn 2s infinite;
}

@keyframes pulse-btn {
   0%,
   100% {
      box-shadow: 0 4px 15px rgba(74, 123, 255, 0.5);
   }
   50% {
      box-shadow: 0 8px 30px rgba(74, 123, 255, 0.9);
   }
}

.game-btn {
   background: linear-gradient(135deg, #42a5f5, #1976d2);
   border: 2px solid #42a5f5 !important;
}

.game-btn:hover {
   background: linear-gradient(135deg, #1976d2, #1565c0);
}

.secondary-btn {
   background: linear-gradient(135deg, #667eea, #764ba2) !important;
   border: 2px solid #667eea !important;
   padding: 12px 30px !important;
   font-size: 0.95rem !important;
   border-radius: 50px !important;
   width: auto !important;
   height: auto !important;
   display: inline-flex !important;
   align-items: center;
   gap: 8px;
}

.secondary-btn:hover {
   background: linear-gradient(135deg, #764ba2, #667eea) !important;
}

.btn-group {
   display: flex;
   gap: 15px;
   margin-top: 25px;
   flex-wrap: wrap;
   justify-content: center;
}

/* ============ BONUS TEXT ============ */
.bonus-text {
   position: absolute;
   font-size: 1.3rem;
   font-weight: bold;
   color: #ffd700;
   text-shadow:
      0 0 15px #ffd700,
      0 0 30px #ff8c00;
   pointer-events: none;
   animation: floatUp 1.5s ease-out forwards;
   z-index: 1000;
}

@keyframes floatUp {
   0% {
      opacity: 1;
      transform: translateY(0) scale(0.8);
   }
   50% {
      transform: translateY(-40px) scale(1.3);
   }
   100% {
      opacity: 0;
      transform: translateY(-80px) scale(0.8);
   }
}

/* ============ FOOTER ============ */
footer {
   background: rgba(10, 10, 30, 0.95);
   padding: 8px;
   font-size: 0.65rem;
   color: #6bb6ff;
   text-align: center;
   border-top: 2px solid #4a7bff;
   box-shadow: 0 -2px 15px rgba(74, 123, 255, 0.4);
   z-index: 10;
   position: relative;
   backdrop-filter: blur(10px);
}

footer iconify-icon {
   vertical-align: middle;
}

/* ============ RESPONSIVE ============ */
@media (max-width: 768px) {
   h1 {
      font-size: 1.1rem;
   }

   .score-panel {
      gap: 5px;
   }

   .score-item {
      padding: 4px 8px;
      min-width: 50px;
   }

   .score-label {
      font-size: 0.55rem;
   }

   .score-value {
      font-size: 0.9rem;
   }

   button {
      width: 36px;
      height: 36px;
   }

   button iconify-icon {
      font-size: 1.1rem;
   }

   .aim-guide {
      font-size: 0.7rem;
      bottom: 70px;
   }

   .rules-container {
      grid-template-columns: 1fr;
   }

   .big-button {
      padding: 12px 30px !important;
      font-size: 0.95rem !important;
   }
}

@media (max-height: 600px) {
   header {
      padding: 6px;
   }

   h1 {
      font-size: 1rem;
      margin-bottom: 6px;
   }

   footer {
      padding: 5px;
      font-size: 0.6rem;
   }

   .aim-guide {
      bottom: 60px;
      font-size: 0.65rem;
   }

   .screen-box {
      padding: 20px 15px;
   }
}
